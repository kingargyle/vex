<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WTP Tutorials - JSF Facelets Tools Tutorial</title>


<link rel="stylesheet" href="default_style.css">

</head>


<body link="#0000ff" vlink="#800080">


<p></p>

<h1 align="center">JSF Facelets Tools Tutorial</h1>

<blockquote><b>Summary</b> <br>

In this tutorial we will build and execute a JSF Facelets application 
and highlight the features contributed by the JSF Facelets Tools
Incubator Project.</blockquote>

<hr width="100%">
<h3>Introduction</h3>

<p>In this tutorial we will create and execute a web application
using the JSF Facelets technology. <a
	href="https://facelets.dev.java.net/">Facelets</a> is an extension to JavaServer Faces(JSF) that uses XHTML syntax to define a JSF page. The JSF Facelets Tools
project is a WTP incubator project that has provided features that
simplifies building web applications using Facelets. The tool enables
the current features of the JSF Tools Project to be used in a dynamic web project
for Facelets. These include an enhanced HTML Source Editor that provides
Content Assist and Validation for Facelets Tags. <br></br>

<a id="setup"></a></p>

<h3>Setup</h3>
<p></p>
<ul>
	<li><a href="http://java.sun.com/javase/downloads/index.jsp.jsp">The
	Java SE 6 Development Kit (JDK)</a></li>
	
	<li><a href="http://tomcat.apache.org/">Apache Tomcat 6.0</a></li>
	<li><a
		href="http://java.sun.com/javaee/javaserverfaces/download.html">JavaServer
	Faces RI v1.2</a></li>
	<li><a
		href="https://maven-repository.dev.java.net/repository/jstl/jars/">JSP
	(tm) Standard Tag Library 1.2 implementation</a></li>
	<li><a
		href="https://facelets.dev.java.net/files/documents/3448/84208/facelets-1.1.14.zip">Facelets
	1.1.14</a></li>
		<li><a
		href="http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/ganymede/R/eclipse-jee-ganymede-win32.zip"> 	
Eclipse IDE for Java EE Developers</a></li>
		<li><a
		href="http://download.eclipse.org/webtools/downloads/">JSF Facelets Tools - WTP Incubator project</a></li>
</ul>
<p><a id="serversetup"></a></p>
<h3>Setup Apache Tomcat Server instance</h3>
Setup an instance of the Apache Tomcat Server using the information in
'Setup' section of this tutorial
<a
	href="http://www.eclipse.org/webtools/community/tutorials/BuildJ2EEWebApp/BuildJ2EEWebApp.html">Building
and Running a Web Application.
<p><a id="reglibs"></a></p>

<h3>Create a JavaServer Faces Project</h3>

<p>Create a New Dynamic Web Application with the name of <b>JSFFaceletsTutorial</b>.
Set the target runtime to the <b>Apache Tomcat 6.0</b><br>
In the <b>configuration</b> section, select the <b>Facelet 1.0
Project</b>. Skip the next panel to get to the JSF Capabilities page.<br>
<br>
<img alt="New Dynamic Web Application"
	src="images/new-dynamic-web-project-facelets.png" height="404"
	width="558"></p>


<br>

<p>On the JSF Capabilities page, from the drop-down for the Type of
the JSF Library, select <b>User Library</b>. <br>
<br>

<img alt="JSF Capabilities page"
	src="images/jsf-capabilities-library.png"></p>


<br>
<p>Click on the <b>Download library</b> icon.
The Download Library dialog is displayed with the list of providers for
the JSF implementation JAR files. Select the library from Sun
Microsystem. Click <b>Next</b>. Accept the license and hit <b>Finish</b> <br><br>
<img alt="JSF Capabilities page"
	src="images/jsf-download-library.png"></p>


<br>

The tool downloads the JAR files, creates a JDT User Library and adds it to the current project. Select the checkbox for the new library if it is not selected. Next, select the <b>Manage libraries</b> icon.<br>
<br>
<img alt="JSF Capabilities page"
	src="images/jsf-capabilities-library-2.png"></p>
<br>
<br>

Create a JDT User Library to hold the JSTL JAR file. </b>
<br><br>
<img alt="JSF Capabilities page"
	src="images/jsf-new-library.png"></p>
<br>
<br>
Create a JDT User Library to hold the Facelets JAR file. Seelct <b>OK.</b>
<br><br>
<img alt="JSF Capabilities page"
	src="images/facelets_user_library.png"></p>
<br>
<br>
The JSTL library and the Facelets library are displayed in the JSF Capabilities dialog. Select both the libraries and hit <b>Finish</b>
<br><br>
<img alt="JSF Capabilities page"
	src="images/jsf_add_libraries.png"></p>
<br>
<br>
<p>On the Facelet page, select all the checkboxes. <br>
<br>

<img alt="Facelets Configuration page"
	src="images/jsf-config-facelets.png" height="246" width="559"></p>


<br>
Click on the <b>Finish</b> button to create the JavaServer Faces
Application. You may be prompted to accept the license for the Web App
DTD from Sun. You may also be asked to choose the J2EE perspective upon
completion. In both cases accept. <br>

<br>
<p>Your JSF application has been created. Note that the web.xml file
has been updated with the Faces Servlet and servlet-mapping, the default
suffix for a JSF page has been set to XHTML. A JSF application
configuration file (faces-config.xml) has been created and configured to
use Facelets as the view handler.<br>
<br>
<br>
<img alt="" src="images/facelets-configuration.png" height="500"
	width="635"></p>

<br>
<p><a id="template"></a></p>
<h3>Create Facelets template pages</h3>
You will now create a Facelets template page. Create a folder called <b>templates</b>
under the <b>WEB-INF</b> folder. Use the HTML wizard to create a
template page called, <b>BasicTemplate.xhtml</b> under this folder.
Right-mouse click on the <b>template</b> folder, select <b>New->HTML</b>
to launch the HTML wizard. In the Select Templates page of the wizard,
select the <b>New Facelet Template</b> template. Click Finish. <br>
<br>
<img alt="Create Facelets Template" src="images/facelets-template.png"
	height="298" width="760">
</p>
Edit the template file following the instructions in the template. You
will create and include the header and footer templates. Your final
template file should be as shown below. <br>
<br>
<img alt="Facelets Template" src="images/facelets-template-final.png"
	height="309" width=572>
</p>
Create the header and footer templates under the <b>template</b> folder
using the <b>New HTML Wizard</b> as described above. In the Select
Template page of the wizard, choose the corresponding template files, <b>New
Facelet Header</b> and <b>New Facelet Footer</b>. Make changes to the
templates as shown below. <br>
<br>
<img alt="Facelets Template" src="images/facelets-header-footer.png"
	height="632" width=762>
</p>
<p><a id="newpage"></a></p>

<h3>Create a JSF Page</h3>
<p>Create a JSF page with Facelets tags that will use the template
created in the previous step. Use the HTML Page wizard to create a page
called <b>login.xhtml</b> in the Web Content folder of the new
application. In the Select Templates page of the wizard, select the <b>New
Facelet Composition Page</b> template. Click Finish. <br>
<br>
<br>
<img alt="JSF Facelets Page" src="images/new-jsf-facelets-page.png"
	height="374" width="552"></p>

<br>
<p><a id="facelets-tagattr-validation"></a></p>
<h3>Facelets Tag Attribute Validation and Content Assist</h3>
The JSF Facelets Tools incubator project adds support for validating
attributes of Facelets tags and also provides Content Assists on them.
Note the warning on the <b>template</b> attribute of the <b>&lt;ui:composition</b>
tag. <br>
<br>
<img alt="Facelets Tag Attribute Validation"
	src="images/facelets-tagattr-validation.png" height="152" width="569">
</p>

<br>
Position the cursor in between the double-quotes of the <b>template</b>
attribute and hit <b>Ctrl + spacebar</b> to get Content Assist. You
should see a pop-up listing the directories under the <b>WebContent</b>
folder. Select <b>/WEB-INF/templates/BasicTemplate.xhtml</b> <br>
<br>
<img alt="Facelets Tag Attribute Content Assist"
	src="images/facelets-tagattr-contentassist.png" height="116"
	width="618">
</p>

<br>
<p><a id="Facelets Login page"></a></p>
<h3>Complete the JSF page</h3>
Delete the <b>&lt;ui:define</b> tags for the header and footer. The page
will get the header and footer from the template. Add the tags for the
login in the <b>content</b> section as shown below. Please note that the
current release of the JSF Facelets Tools incubator project doesn't
support the visual rendering of an XHTML page in the JSF Web Page
Editor. However, all the productivity features available in the Source
Page of the Web Page Editor for editing a JSP page are available in the
HTML Source Editor for building a JSF Facelets page in XHTML. <br>
<br>
<img alt="Facelets Login page" src="images/facelets-login.png"
	height="232" width="623">
</p>
<a id="faces-config-bean"></a> 
<h3>Configure the Managed Bean</h3>
In the Project Explorer, expand the node,
JSFFaceletsTutorial-&gt;WebContent. Double-click on <b>faces-config.xml</b> .
This will launch the Faces Configuration editor. Select the <b>ManagedBean</b>
tab. <br>
<br>
<img alt="Faces Config Editor Managed Bean"
	src="images/facesconfig-editor-bean-facelets.png" height="373" width="672">
<br>
<br>
Click on the <b>Add</b> button. This will launch the New Managed Bean
wizard. Select the option, <b>Create a new Java class</b>. In the next
wizard panel, enter the package as, <b>com.tutorial</b> and the Name of
the class as <b>LoginBean</b> . Click the Finish button. <br>
This will create the Java class and register it as a managed bean. Save
the Faces Configuration editor.To edit the Java class, click on the
hyperlink, <b>ManagedBean class</b> in the Managed bean page as shown in
the figure below. This will launch the Java editor. <br>
<br>
<img alt="Faces Configuration Editor - Managed Bean tab"
	src="images/fce-managedbean-class.png" height="181" width="599">
<br>
<br>

<p><a id="createbean"></a></p>
<br>
Edit the Java class, <b>com.tutorial.LoginBean</b>. Add the following
code and save. <br>
<br>
<img alt="LoginBean" src="images/loginbean.png" height="491" width="405">

<br>
<h3><a id="testpage"></a>Run the JSF Facelets Page</h3>
<p>You will now execute the <b>login.xhtml</b> page against the
Apache Tomcat server. Choose <b>Run on Server</b> using the context menu
while selecting the <b>login.xhtml</b> page in the navigator. Choose
your Apache Tomcat server and set it up as required if you had not
already done so. Click Finish. You should see from the Console view that
the Tomcat server starts and then you should see the executing login
page appear in the Web Browser like below. <br>
<br>
<br>
<img alt="" src="images/run-facelets.png" height="296" width="432"></p>

<p><b> Congratulations! You have created and executed your first
JSF Facelets application using the Eclipse WTP Incubator JSF Facelets
Tools Project. </b></p>
</body>
</html>
